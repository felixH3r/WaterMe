{"version":3,"file":"yearpicker.component.js","sources":["../../src/datepicker/yearpicker.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { isBs3 } from '../utils/ng2-bootstrap-config';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\n\n\nexport class YearPickerComponent implements OnInit {\n  public datePicker:DatePickerInnerComponent;\n  public title:string;\n  public rows:any[] = [];\n\n  public constructor(datePicker:DatePickerInnerComponent) {\n    this.datePicker = datePicker;\n  }\n\n  public get isBs4():boolean {\n    return !isBs3();\n  }\n\n  public ngOnInit():void {\n    let self = this;\n\n    this.datePicker.stepYear = {years: this.datePicker.yearRange};\n\n    this.datePicker.setRefreshViewHandler(function ():void {\n      let years:any[] = new Array(this.yearRange);\n      let date:Date;\n      let start = self.getStartingYear(this.activeDate.getFullYear());\n\n      for (let i = 0; i < this.yearRange; i++) {\n        date = new Date(start + i, 0, 1);\n        date = this.fixTimeZone(date);\n        years[i] = this.createDateObject(date, this.formatYear);\n        years[i].uid = this.uniqueId + '-' + i;\n      }\n\n      self.title = [years[0].label,\n        years[this.yearRange - 1].label].join(' - ');\n      self.rows = this.split(years, self.datePicker.yearColLimit);\n    }, 'year');\n\n    this.datePicker.setCompareHandler(function (date1:Date, date2:Date):number {\n      return date1.getFullYear() - date2.getFullYear();\n    }, 'year');\n\n    this.datePicker.refreshView();\n  }\n\n  protected getStartingYear(year:number):number {\n    // todo: parseInt\n    return ((year - 1) / this.datePicker.yearRange) * this.datePicker.yearRange + 1;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'yearpicker',\n  template: `\n<table *ngIf=\"datePicker.datepickerMode==='year'\" role=\"grid\">\n  <thead>\n    <tr>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left\"\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">\n          <i class=\"glyphicon glyphicon-chevron-left\"></i>\n        </button>\n      </th>\n      <th [attr.colspan]=\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\">\n        <button [id]=\"datePicker.uniqueId + '-title'\" role=\"heading\"\n                type=\"button\" class=\"btn btn-default btn-sm\"\n                (click)=\"datePicker.toggleMode()\"\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\n          <strong>{{title}}</strong>\n        </button>\n      </th>\n      <th>\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right\"\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">\n          <i class=\"glyphicon glyphicon-chevron-right\"></i>\n        </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let rowz of rows\">\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\">\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\n                [disabled]=\"dtz.disabled\"\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{dtz.label}}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  `\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DatePickerInnerComponent, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}