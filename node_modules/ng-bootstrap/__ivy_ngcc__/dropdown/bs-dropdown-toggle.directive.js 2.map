{"version":3,"file":"bs-dropdown-toggle.directive.js","sources":["../../src/dropdown/bs-dropdown-toggle.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive, ElementRef, HostBinding, HostListener, OnDestroy\n} from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { BsDropdownState } from './bs-dropdown.state';\n\n\nexport class BsDropdownToggleDirective implements OnDestroy {\n  \n  isDisabled: boolean = null;\n\n  // @HostBinding('class.active')\n   isOpen: boolean;\n\n  \n  onClick(): void {\n    if (this.isDisabled) {\n      return;\n    }\n    this._state.toggleClick.emit();\n  }\n\n  \n  onDocumentClick(event: any): void {\n    if (this._state.autoClose && event.button !== 2 &&\n      !this._element.nativeElement.contains(event.target)) {\n      this._state.toggleClick.emit(false);\n    }\n  }\n\n  \n  onEsc(): void {\n    if (this._state.autoClose) {\n      this._state.toggleClick.emit(false);\n    }\n  }\n\n  private _subscriptions: Subscription[] = [];\n\n  constructor(private _state: BsDropdownState,\n              private _element: ElementRef) {\n    // sync is open value with state\n    this._subscriptions.push(this._state\n      .isOpenChange.subscribe((value: boolean) => this.isOpen = value));\n    // populate disabled state\n    this._subscriptions.push(this._state\n      .isDisabledChange\n      .subscribe((value: boolean) => this.isDisabled = value || null));\n  }\n\n  ngOnDestroy(): void {\n    for (const sub of this._subscriptions) {\n      sub.unsubscribe();\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[bsDropdownToggle],[dropdownToggle]',\n  exportAs: 'bs-dropdown-toggle',\n  host: {\n    '[attr.aria-haspopup]': 'true'\n  }\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: BsDropdownState, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isDisabled': [{ type: HostBinding, args: ['attr.disabled', ] },],\n'isOpen': [{ type: HostBinding, args: ['attr.aria-expanded', ] },],\n'onClick': [{ type: HostListener, args: ['click', ] },],\n'onDocumentClick': [{ type: HostListener, args: ['document:click', ['$event'], ] },],\n'onEsc': [{ type: HostListener, args: ['keyup.esc', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}